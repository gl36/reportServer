(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(760)),r=C(a(761)),l=C(a(748)),u=C(a(765)),o=C(a(851)),i=C(a(756)),s=C(a(850)),d=C(a(770)),f=C(a(749)),c=C(a(791)),p=C(a(745)),m=C(a(794)),y=C(a(755)),h=C(a(752)),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(762),a(763),a(747),a(766),a(855),a(776),a(858),a(771),a(750),a(788),a(744),a(797),a(757),a(751);var g=C(a(1));C(a(741));a(822);var b=C(a(845));a(846),a(847),a(848);C(a(1857));var E=C(a(1865)),_=C(a(1866)),w=C(a(775)),k=C(a(742)),S=C(a(778));function C(e){return e&&e.__esModule?e:{default:e}}a(885);var x=h.default.Item,O=y.default.Option,D=(m.default.Group,p.default.TextArea),I=c.default.TabPane,P=(f.default.ButtonGroup,new w.default),F=new S.default,j={lineNumbers:!0,mode:{name:"text/x-mysql"},extraKeys:{Ctrl:"autocomplete"},theme:"default"},N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a.func_data={},a.state={action:a.props.match.params.action,func_id:a.props.match.params.id,inData:[],outData:[],dbList:[],funcClassList:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default.Component),v(t,[{key:"componentDidMount",value:function(){var e=this;if("update"==this.state.action){k.default.post("reportServer/function1/getFunctionByID/"+this.state.func_id,null).then(function(t){if("1000"==t.resultCode){e.setState({inData:t.data.in,outData:t.data.out}),e.props.form.setFieldsValue(t.data),e.inParam.setFormValue(e.state.inData),e.outParam.setFormValue(e.state.outData),e.refs.editorsql.codeMirror.setValue(t.data.func_sql);var a=e.refs.editorsql;a.codeMirror.setSize("100%","500px"),a.codeMirror.border="solid  1px"}else d.default.error(t.message)})}F.getDbList().then(function(t){e.setState({dbList:t})}),P.getAllFunctionClass().then(function(t){console.log(JSON.stringify(t)),"1000"==t.resultCode?e.setState({funcClassList:t.data}):d.default.error(t.message)})}},{key:"onSaveClick",value:function(){var e=this,t=this.props.form.getFieldsValue();this.setState({inData:this.inParam.getFormValue(),outData:this.outParam.getFormValue()}),t.type="sql",t.func_sql=this.refs.editorsql.codeMirror.getValue(),t.in=this.state.inData,t.out=this.state.outData,console.log(t),"create"==this.state.action?k.default.post("reportServer/function1/createFunction",JSON.stringify(t)).then(function(t){"1000"==t.resultCode?(d.default.success("创建成功！"),e.setState({action:"update"}),e.props.form.setFieldsValue({func_id:t.data})):d.default.error(t.message)}):"update"==this.state.action&&k.default.post("reportServer/function1/updateFunction",JSON.stringify(t)).then(function(e){"1000"==e.resultCode?d.default.success("更新成功！"):d.default.error(e.message)})}},{key:"onGenerateClick",value:function(){var e=this,t=this.refs.editorsql.codeMirror.getValue();P.getSqlInOut(t).then(function(t){if(t.resultCode=1e3){alert(JSON.stringify(t.data)),d.default.success("生成成功!");var a=[],n=[],r=!0,l=!1,u=void 0;try{for(var o,i=t.data[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;if("in"==s.type){var f={dict_id:void 0,authtype_id:"",in_name:s.name,dict_name:void 0,isformula:0,authtype_desc:"",datatype:s.datatype,func_id:"",in_id:s.id,validate:""};a.push(f)}else if("out"==s.type){var c={out_name:s.name,datatype:s.datatype,link:"{}",func_id:36,out_id:s.id};n.push(c)}}}catch(e){l=!0,u=e}finally{try{!r&&i.return&&i.return()}finally{if(l)throw u}}e.setState({inData:a}),e.setState({outData:n}),e.inParam.setFormValue(e.state.inData),e.outParam.setFormValue(e.state.outData)}else d.default.error(t.message)})}},{key:"formatClick",value:function(){var e=this,t={sql:this.refs.editorsql.codeMirror.getValue(),type:"oracle"};k.default.post("reportServer/utils/formatSQL",JSON.stringify(t)).then(function(t){"1000"==t.resultCode?e.refs.editorsql.codeMirror.setValue(t.data):d.default.error(t.message)})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return g.default.createElement("div",{id:"page-wrapper",style:{background:"#ECECEC",padding:"0px"}},g.default.createElement(l.default,{title:"创建函数",bodyStyle:{padding:"5px"},headStyle:{height:"60px"},extra:g.default.createElement(o.default,{overlay:g.default.createElement(s.default,{onClick:this.handleMenuClick},g.default.createElement(s.default.Item,{key:"1"},"存储过程"),g.default.createElement(s.default.Item,{key:"2"},"http请求"),g.default.createElement(s.default.Item,{key:"3"},"WEBService"))},g.default.createElement(f.default,{style:{marginLeft:8}},"SQL ",g.default.createElement(i.default,{type:"down"})))},g.default.createElement(h.default,{layout:"inline"},g.default.createElement(n.default,{gutter:0},g.default.createElement(r.default,{span:10},g.default.createElement(l.default,{bodyStyle:{padding:"8px"}},g.default.createElement("div",null,g.default.createElement(f.default,{type:"primary",icon:"tool",onClick:function(){return e.onGenerateClick()},style:{marginRight:"10px"}},"生成函数"),g.default.createElement(f.default,{icon:"save",onClick:function(){return e.onSaveClick()},style:{marginRight:"10px"}},"保存"),g.default.createElement(f.default,{icon:"list",onClick:function(){return window.location="#/function/functionList"},style:{marginRight:"10px"}},"退出")),g.default.createElement(u.default,{style:{margin:"8px 0 8px 0"}}),g.default.createElement(x,{label:"选择数据库",style:{marginBottom:"10px"}},t("func_db",{rules:[{required:"true",message:"必须选择数据库"}]})(g.default.createElement(y.default,{setValue:this.form,style:{width:"160px"}},this.state.dbList.map(function(e){return g.default.createElement(O,{key:e.name,value:e.name},e.name)})))),g.default.createElement(c.default,{type:"card",tabBarExtraContent:g.default.createElement(f.default,{icon:"profile",onClick:function(){return e.formatClick()},style:{color:"blue"}})},g.default.createElement(I,{tab:"输入SQL",key:"1"},g.default.createElement(b.default,{ref:"editorsql",value:"",style:{height:"600px",width:"450px",border:"1px"},options:j}))))),g.default.createElement(r.default,{span:14},g.default.createElement(l.default,{bodyStyle:{padding:"5px"}},g.default.createElement(n.default,null,g.default.createElement(r.default,{span:12},g.default.createElement(x,{label:" 函数类别"},t("class_id",{rules:[{required:!0,message:"函数名称是必须的"}]})(g.default.createElement(y.default,{style:{minWidth:"170px"}},this.state.funcClassList.map(function(e){return g.default.createElement(O,{key:e.class_id,value:e.class_id},e.class_name)}))))),g.default.createElement(r.default,{span:12},g.default.createElement(x,{label:"函数ID"},t("func_id",{})(g.default.createElement(p.default,{disabled:!0}))))),g.default.createElement(n.default,null,g.default.createElement(r.default,{span:24},g.default.createElement(x,{label:" 函数名称"},t("func_name",{rules:[{required:!0,message:"函数名称是必须的"}]})(g.default.createElement(p.default,{style:{minWidth:"300px"}}))))),g.default.createElement(n.default,null,g.default.createElement(r.default,{span:24},g.default.createElement(x,{label:"函数说明",style:{marginLeft:"14px"}},t("func_desc",{})(g.default.createElement(D,{placeholder:"此函数主要完成什么功能...",autosize:{minRows:1,maxRows:6},style:{width:"490px"}}))))),g.default.createElement(c.default,{type:"card",style:{marginTop:"15px"},onChange:this.tabOnChange},g.default.createElement(I,{tab:"输入参数",key:"1"},g.default.createElement(E.default,{onRef:function(t){return e.inParam=t}})),g.default.createElement(I,{tab:"输出参数",key:"2",forceRender:!0},g.default.createElement(_.default,{onRef:function(t){return e.outParam=t}})))))))))}}]),t}();t.default=N=h.default.create({})(N)},1857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(a(754)),r=f(a(991)),l=f(a(745)),u=f(a(1858)),o=f(a(752)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(753),a(992),a(744),a(1859),a(751);var d=f(a(1));f(a(8)),a(1862);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}for(var h=[],v=0;v<3;v++)h.push({key:v.toString(),name:"Edrward "+v,age:32,address:"London. "+v});var g=o.default.Item,b=d.default.createContext(),E=o.default.create()(function(e){var t=e.form,a=(e.index,y(e,["form","index"]));return d.default.createElement(b.Provider,{value:t},d.default.createElement("tr",a))}),_=function(e){function t(){var e,a,n;c(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.getInput=function(){return"number"===n.props.inputType?d.default.createElement(u.default,null):d.default.createElement(l.default,null)},p(n,a)}return m(t,d.default.Component),s(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.editing,n=t.dataIndex,r=t.title,l=(t.inputType,t.record),u=(t.index,y(t,["editing","dataIndex","title","inputType","record","index"]));return d.default.createElement(b.Consumer,null,function(t){var o=t.getFieldDecorator;return d.default.createElement("td",u,a?d.default.createElement(g,{style:{margin:0}},o(n,{rules:[{required:!0,message:"Please Input "+r+"!"}],initialValue:l[n]})(e.getInput())):u.children)})}}]),t}(),w=function(e){function t(e){c(this,t);var a=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isEditing=function(e){return e.key===a.state.editingKey},a.cancel=function(){a.setState({editingKey:""})},a.state={data:e.data,editingKey:""},a.columns=[{title:"参数ID",dataIndex:"in_id",width:"20%",editable:!0},{title:"参数名字",dataIndex:"in_name",width:"20%",editable:!0},{title:"参数类型",dataIndex:"datatype",width:"13%",editable:!0},{title:"数据字典",dataIndex:"dict",width:"20%",editable:!0},{title:"权限",dataIndex:"auth",width:"15%",editable:!0},{title:"操作",dataIndex:"operation",render:function(e,t){var n=a.isEditing(t);return d.default.createElement("div",null,n?d.default.createElement("span",null,d.default.createElement(b.Consumer,null,function(e){return d.default.createElement("a",{href:"javascript:;",onClick:function(){return a.save(e,t.key)},style:{marginRight:8}},"保存")}),d.default.createElement(r.default,{title:"确认放弃保存?",onConfirm:function(){return a.cancel(t.key)}},d.default.createElement("a",null,"取消"))):d.default.createElement("a",{onClick:function(){return a.edit(t.key)}},"编辑"))}}],a}return m(t,d.default.Component),s(t,[{key:"edit",value:function(e){this.setState({editingKey:e})}},{key:"save",value:function(e,t){var a=this;e.validateFields(function(e,n){if(!e){var r=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a.state.data)),l=r.findIndex(function(e){return t===e.key});if(l>-1){var u=r[l];r.splice(l,1,i({},u,n)),a.setState({data:r,editingKey:""})}else r.push(n),a.setState({data:r,editingKey:""})}})}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.data,a=e.data.toString();t.toString()!==a&&this.setState({data:e.data})}},{key:"render",value:function(){var e=this,t={body:{row:E,cell:_}},a=this.columns.map(function(t){return t.editable?i({},t,{onCell:function(a){return{record:a,inputType:"age"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(a)}}}):t});return d.default.createElement(n.default,{components:t,dataSource:this.state.data,columns:a,rowClassName:"editable-row",pagination:!1,size:"small"})}}]),t}();t.default=w},1865:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(754)),r=f(a(821)),l=f(a(752)),u=f(a(745)),o=f(a(755)),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(753),a(833),a(751),a(744),a(757);var s=f(a(1)),d=f(a(742));function f(e){return e&&e.__esModule?e:{default:e}}a(885);var c=o.default.Option,p=[],m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.columns=[{title:"列ID",dataIndex:"in_id",key:"in_id",width:"120px",className:"headerRow"},{title:"列名",dataIndex:"in_name",key:"in_name",className:"headerRow",render:function(e,t,n){return s.default.createElement(l.default,null,s.default.createElement(l.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-in_name",{rules:[{required:!0,message:"参数名是必须的！"}]})(s.default.createElement(u.default,{onChange:function(e){return a.changeEvent(e)}}))))}},{title:"数据类型",dataIndex:"datatype",key:"datatype",className:"headerRow",render:function(e,t,n){return s.default.createElement(l.default,null,s.default.createElement(l.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-datatype",{rules:[{required:!0,message:"数据类型是必须的！"}]})(s.default.createElement(o.default,{tyle:{minWidth:"80px"},onChange:function(e){return a.SelectChangeEvent(n+"-datatype",e)}},s.default.createElement(c,{value:"string"},"字符串"),s.default.createElement(c,{value:"number"},"数字"),s.default.createElement(c,{value:"date"},"日期")))))}},{title:"数据字典",dataIndex:"dict_id",key:"dict_id",className:"headerRow",render:function(e,t,n){return s.default.createElement(l.default,null,s.default.createElement(l.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-dict_id",{})(s.default.createElement(o.default,{allowClear:!0,style:{minWidth:"100px"},onChange:function(e){return a.SelectChangeEvent(n+"-dict_id",e)}},a.state.dictData.map(function(e){return s.default.createElement(c,{value:e.dict_id},e.dict_name)})))))}},{title:"表达式",key:"isformula",dataIndex:"isformula",width:"10%",className:"headerRow",render:function(e,t,n){return s.default.createElement(l.default,null,s.default.createElement(l.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-isformula",{valuePropName:"checked"})(s.default.createElement(r.default,{onChange:function(e){return a.CheckBoxChangeEvent(e)}}))))}},{title:"数据权限",key:"authtype_id",width:"16%",dataIndex:"authtype_id",render:function(e,t,n){return s.default.createElement(l.default,null,s.default.createElement(l.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-authtype_id",{rules:[{required:!0,message:"Please Input "}]})(s.default.createElement(o.default,{allowClear:!0,style:{minWidth:"100px"},onChange:function(e){return a.SelectChangeEvent(n+"-authtype_id",e)}},a.state.authData.map(function(e){return s.default.createElement(c,{key:e.value,value:e.value},e.name)})))))}}],a.props.onRef(a),a.state={data:[],formData:{},dictData:[],authData:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"getTreeNode",value:function(e,t){for(var a in e){if(p.push(a),a.value==t)break;(a.key="children")&&this.getTreeNode(a,key)}}},{key:"componentDidMount",value:function(){var e=this;d.default.post("reportServer/dict/getAllDictName",null).then(function(t){"1000"==t.resultCode?e.setState({dictData:t.data}):message.error(t.message)}),d.default.post("reportServer/authType/getAllAuthTypeList",null).then(function(t){"1000"==t.resultCode?e.setState({authData:t.data}):message.error(t.message)})}},{key:"setFormValue",value:function(e){this.setState({data:e});for(var t={},a=0;a<this.state.data.length;a++){var n=this.state.data[a],r=Object.getOwnPropertyNames(n),l=!0,u=!1,o=void 0;try{for(var i,s=r[Symbol.iterator]();!(l=(i=s.next()).done);l=!0){var d=i.value;t[a+"-"+d]=this.state.data[a][d]}}catch(e){u=!0,o=e}finally{try{!l&&s.return&&s.return()}finally{if(u)throw o}}}console.log(t),this.setState({formData:t}),this.props.form.setFieldsValue(this.state.formData)}},{key:"getFormValue",value:function(){return this.state.data}},{key:"changeEvent",value:function(e){console.log(e.target.id,e.target.value);var t=e.target.id,a=t.split("-")[0],n=t.split("-")[1];this.state.data[a][n]=e.target.value}},{key:"SelectChangeEvent",value:function(e,t){var a=e,n=a.split("-")[0],r=a.split("-")[1];this.state.data[n][r]=t}},{key:"CheckBoxChangeEvent",value:function(e){var t=e.target.id,a=t.split("-")[0],n=t.split("-")[1];this.state.data[a][n]=e.target.checked?1:0}},{key:"componentDidUpdate",value:function(){}},{key:"buttonClick",value:function(){console.log(this.props.form.getFieldsValue()),console.log(this.state.data)}},{key:"changeColumn",value:function(){this.refs.table.columns=this.columns1,this.arr.push(s.default.createElement(u.default,null))}},{key:"render",value:function(){return s.default.createElement(n.default,{ref:"table",columns:this.columns,dataSource:this.state.data,size:"small",bordered:!0,pagination:!1})}}]),t}();t.default=m=l.default.create()(m)},1866:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(754)),r=d(a(752)),l=d(a(745)),u=d(a(755)),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(753),a(751),a(744),a(757);var i=d(a(1)),s=a(271);d(a(742));function d(e){return e&&e.__esModule?e:{default:e}}a(885);var f=u.default.Option,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.columns=[{title:"列ID",dataIndex:"out_id",key:"out_id",width:"120px",className:"headerRow"},{title:"列名",dataIndex:"out_name",key:"out_name",className:"headerRow",render:function(e,t,n){return i.default.createElement(r.default,null,i.default.createElement(r.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-out_name",{rules:[{required:!0,message:"参数名是必须的！"}]})(i.default.createElement(l.default,{onChange:function(e){return a.changeEvent(e)}}))))}},{title:"数据类型",dataIndex:"datatype",key:"datatype",className:"headerRow",render:function(e,t,n){return i.default.createElement(r.default,null,i.default.createElement(r.default.Item,{style:{margin:0}},a.props.form.getFieldDecorator(n+"-datatype",{rules:[{required:!0,message:"数据类型是必须的！"}]})(i.default.createElement(u.default,{style:{minWidth:"80px"}},i.default.createElement(f,{value:"string"},"字符串"),i.default.createElement(f,{value:"number"},"数字"),i.default.createElement(f,{value:"date"},"日期")))))}},{title:"超链接",dataIndex:"datatype",key:"datatype",className:"headerRow",render:function(e,t,a){return i.default.createElement(s.Link,{to:"/user/UserView/"+t.id},"配置")}}],a.props.onRef(a),a.state={data:[],formData:{},dictData:[],authData:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"setFormValue",value:function(e){this.setState({data:e});for(var t={},a=0;a<this.state.data.length;a++){var n=this.state.data[a],r=Object.getOwnPropertyNames(n),l=!0,u=!1,o=void 0;try{for(var i,s=r[Symbol.iterator]();!(l=(i=s.next()).done);l=!0){var d=i.value;t[a+"-"+d]=this.state.data[a][d]}}catch(e){u=!0,o=e}finally{try{!l&&s.return&&s.return()}finally{if(u)throw o}}}console.log(t),this.setState({formData:t}),this.props.form.setFieldsValue(this.state.formData)}},{key:"getFormValue",value:function(){return this.state.data}},{key:"changeEvent",value:function(e){console.log(e.target.id,e.target.value);var t=e.target.id,a=t.split("-")[0],n=t.split("-")[1];this.state.data[a][n]=e.target.value}},{key:"buttonClick",value:function(){console.log(this.props.form.getFieldsValue()),console.log(this.state.data)}},{key:"changeColumn",value:function(){this.refs.table.columns=this.columns1,this.arr.push(i.default.createElement(l.default,null))}},{key:"render",value:function(){return i.default.createElement(n.default,{ref:"table",columns:this.columns,dataSource:this.state.data,size:"small",bordered:!0,pagination:!1})}}]),t}();t.default=c=r.default.create()(c)},742:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(635);var r,l=a(270);var u=new((r=l)&&r.__esModule?r:{default:r}).default,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,a,n){if(null==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});console.log(n);var r=n?"http://192.168.206.49:9601/":e.getBaseUrl();console.log(e.getBaseUrl()),console.log(r);var l=r+t,o={method:"POST",headers:{credentials:JSON.stringify(u.getStorage("userInfo")||"")},body:a};return fetch(l,o).then(function(e){return e.json()}).catch(function(e){return e.json()})}},{key:"getFile",value:function(t){if(null==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var a=e.getBaseUrl()+t,n={method:"GET",headers:{credentials:JSON.stringify(u.getStorage("userInfo")||"")}};return fetch(a,n)}}]),e}();t.default=o},775:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(742));function l(e){return e&&e.__esModule?e:{default:e}}new(l(a(270)).default);var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"getFunctionList",value:function(){return r.default.post("reportServer/function1/getAllFunctionName",null)}},{key:"getFunctionByID",value:function(e){var t="reportServer/function1/getFunctionByID/"+e;return r.default.post(t,{})}},{key:"getSqlInOut",value:function(e){var t={sqlType:"sql",sql:e};return r.default.post("reportServer/sql/getInputOutputParas",JSON.stringify(t))}},{key:"getAllFunctionClass",value:function(){return r.default.post("reportServer/function1/getAllFunctionClass","")}},{key:"saveFunctionClass",value:function(e){return r.default.post("reportServer/function1/createFunctionClassInfo",JSON.stringify(e))}},{key:"updateFunctionClass",value:function(e){return r.default.post("reportServer/function1/updateFunctionClassInfo",JSON.stringify(e))}},{key:"deleteFunctionClss",value:function(e){return r.default.post("reportServer/function1/deleteFunctionClassInfo",JSON.stringify(e))}},{key:"CreateFunction",value:function(e){return r.default.post("reportServer/function1/saveUserSql",JSON.stringify(e))}}]),e}();t.default=u},778:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(742),u=(n=l)&&n.__esModule?n:{default:n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getDbList",value:function(){return u.default.post("reportServer/DBConnection/ListAll",{})}},{key:"getDb",value:function(e){return u.default.post("reportServer/DBConnection/GetByName",e)}},{key:"saveDb",value:function(e){if("null"==e._name){return u.default.post("reportServer/DBConnection/save",JSON.stringify(e))}return u.default.post("reportServer/DBConnection/update",JSON.stringify(e))}},{key:"deleteDb",value:function(e){return u.default.post("reportServer/DBConnection/Delete",e)}},{key:"testDb",value:function(e){return u.default.post("reportServer/DBConnection/test",JSON.stringify(e))}}]),e}();t.default=o},885:function(e,t,a){var n=a(993);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},993:function(e,t,a){(e.exports=a(14)(!1)).push([e.i,".ant-table-thead .headerRow {\n  text-align: center; }\n\n.ant-table-tbody .headerRow {\n  text-align: center; }\n\n.checkbox {\n  text-align: center;\n  margin: auto;\n  padding: 0; }\n\n.editable-row .ant-form-explain {\n  position: absolute;\n  font-size: 12px;\n  margin-top: -4px; }\n",""])}}]);
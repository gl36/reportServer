(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1048);var r,i=n(442);var u=new((r=i)&&r.__esModule?r:{default:r}).default,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,n){if(null==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==u.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var a=e.getBaseUrl()+t,r={method:"POST",headers:{credentials:JSON.stringify(u.getStorage("userInfo")||"")},body:n};return fetch(a,r).then(function(e){return e.json()}).catch(function(e){return e.json()})}}]),e}();t.default=o},1258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1250),u=(a=i)&&a.__esModule?a:{default:a};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getDictList",value:function(e){return u.default.post("reportServer/dict/getDictList",JSON.stringify(e))}},{key:"getDictValue",value:function(e,t){return u.default.post("reportServer/dict/getDictValueByDictID",JSON.stringify({dict_id:e,value_code:t}))}},{key:"saveDict",value:function(e){if("null"==e.oldvalue_code||null==e.oldvalue_code){return u.default.post("reportServer/dict/createFuncDictValue",JSON.stringify(e))}return u.default.post("reportServer/dict/updateDictValue",JSON.stringify(e))}},{key:"deleteDict",value:function(e){return u.default.post("reportServer/dict/deleteDictValueByIDCode",JSON.stringify(e))}}]),e}();t.default=o},1259:function(e,t,n){var a=n(1260);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0};n(22)(a,r);a.locals&&(e.exports=a.locals)},1260:function(e,t,n){(e.exports=n(21)(!1)).push([e.i,".ant-table-thead .headerRow {\n  text-align: center; }\n\n.ant-table-tbody .headerRow {\n  text-align: center; }\n\n.checkbox {\n  text-align: center;\n  margin: auto;\n  padding: 0; }\n",""])},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(1042)),r=y(n(1047)),i=y(n(120)),u=y(n(44)),o=y(n(66)),l=y(n(1049)),c=y(n(1043)),s=y(n(1045)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1041),n(1046),n(445),n(157),n(446),n(1050),n(443),n(1044);var d=y(n(1)),p=n(444),v=y(n(1258)),h=y(n(448)),m=y(n(442));function y(e){return e&&e.__esModule?e:{default:e}}n(1259);s.default.Item,new m.default;var g=new v.default,b=c.default.Search,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dictId:n.props.match.params.dictId,list:[],pageNum:1,perPage:10,listType:"list",value_name:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),f(t,[{key:"componentDidMount",value:function(){this.loadUserList()}},{key:"loadUserList",value:function(){var e=this,t={};t.pageNum=this.state.pageNum,t.perPage=this.state.perPage,t.dictId=this.state.dictId,"search"===this.state.listType&&(t.value_name=this.state.value_name),g.getDictList(t).then(function(t){e.setState({list:t.data.list,total:t.data.total})},function(t){e.setState({list:[]})})}},{key:"onPageNumChange",value:function(e){var t=this;this.setState({pageNum:e},function(){t.loadUserList()})}},{key:"onValueChange",value:function(e){var t=e.target.name,n=e.target.value.trim();this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"onSearch",value:function(e){var t=this,n=""===e?"list":"search";this.setState({listType:n,pageNum:1,value_name:e},function(){t.loadUserList()})}},{key:"deleteDIctV",value:function(e,t){var n=this;if(confirm("确认删除吗？")){var a={dict_id:e,value_code:t};g.deleteDict(a).then(function(e){alert("删除成功"),n.loadUserList()},function(e){alert("删除失败")})}}},{key:"render",value:function(){var e=this;this.state.list.map(function(e,t){e.key=t});var t=this.state.list,n=[{title:"编码",dataIndex:"value_code",key:"value_code",className:"headerRow"},{title:"名称",dataIndex:"value_name",key:"value_name",className:"headerRow"},{title:"简称1",dataIndex:"abbr_name1",key:"abbr_name1",className:"headerRow"},{title:"简称2",dataIndex:"abbr_name2",key:"abbr_name2",className:"headerRow"},{title:"操作",dataIndex:"操作",className:"headerRow",render:function(t,n){return d.default.createElement("span",null,d.default.createElement(p.Link,{to:"/dict/DictValueInfo/"+n.dict_id+"/"+n.value_code},"编辑"),d.default.createElement(l.default,{type:"vertical"}),d.default.createElement("a",{onClick:function(){return e.deleteDIctV(""+n.dict_id,""+n.value_code)},href:"javascript:;"},"删除"))}}];return d.default.createElement("div",{id:"page-wrapper"},d.default.createElement(a.default,{title:"字典列表"},d.default.createElement(i.default,null,d.default.createElement(o.default,{xs:24,sm:12},d.default.createElement(b,{style:{maxWidth:300,marginBottom:"10px"},placeholder:"请输入...",enterButton:"查询",onSearch:function(t){return e.onSearch(t)}})),d.default.createElement(o.default,{xs:24,sm:12},d.default.createElement(u.default,{href:"#/dict/DictValueInfo/"+this.state.dictId+"/null",style:{float:"right",marginRight:"30px"},type:"primary"},"新建字典"))),d.default.createElement(r.default,{dataSource:t,columns:n,pagination:!1}),d.default.createElement(h.default,{current:this.state.pageNum,total:this.state.total,onChange:function(t){return e.onPageNumChange(t)}})))}}]),t}();t.default=_}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1216:function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),o=p(r(1)),a=p(r(1254)),i=p(r(442));function p(n){return n&&n.__esModule?n:{default:n}}r(1304);var l=new i.default,u=new a.default,d=function(n){function e(n){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.state={userCode:"",Pwd:"",redirect:l.getStorage("lasurl")||"/"},r}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}(e,o.default.Component),t(e,[{key:"componentWillMount",value:function(){document.title="登录 - report"}},{key:"onInputChange",value:function(n){if(!n||!n.target&&!n.currentTarget)return!1;var e,r,t,o=void 0!==n.target.value?n.target.value:n.currentTarget.value,a=void 0!==n.target.name?n.target.name:n.currentTarget.name;this.setState((t=o,(r=a)in(e={})?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e))}},{key:"onInputKeyUp",value:function(n){13===n.keyCode&&this.onSubmit()}},{key:"onSubmit",value:function(){var n=this,e={UserCode:this.state.UserCode,Pwd:this.state.Pwd,import:"",isAdmin:""},r=u.checkLoginInfo(e);r.states=!0,r.status?u.encodePwd(e.Pwd).then(function(r){e.Pwd=r.encodePwd,u.login(e).then(function(e){l.setStorage("userInfo",e.data),n.props.history.push(n.state.redirect)},function(n){l.errorTips(n)})},function(n){l.errorTips(n)}):l.errorTips(r.msg)}},{key:"render",value:function(){var n=this;return o.default.createElement("div",{className:"wrapper-page"},o.default.createElement("div",{className:"panel panel-color panel-primary panel-pages"},o.default.createElement("div",{className:"panel-heading bg-img"},o.default.createElement("div",{className:"bg-overlay"}),o.default.createElement("h3",{className:"text-center m-t-10 text-white"},"登录数据中台",o.default.createElement("strong",null)," ")),o.default.createElement("div",{className:"panel-body panel_border"},o.default.createElement("div",{className:"form-horizontal m-t-20 ng-dirty ng-touched ng-valid"},o.default.createElement("div",{style:{color:"#e51e30"}}),o.default.createElement("div",{className:"form-group "},o.default.createElement("input",{type:"text",name:"UserCode",className:"form-control input-lg panel_border",placeholder:"请输入用户名",onKeyUp:function(e){return n.onInputKeyUp(e)},onChange:function(e){return n.onInputChange(e)}})),o.default.createElement("div",{className:"form-group"},o.default.createElement("input",{type:"password",name:"Pwd",className:"form-control input-lg panel_border",placeholder:"请输入密码",onKeyUp:function(e){return n.onInputKeyUp(e)},onChange:function(e){return n.onInputChange(e)}})),o.default.createElement("div",{className:"form-group text-center m-t-40"},o.default.createElement("button",{className:"btn btn-primary btn-lg w-lg waves-effect waves-light",onClick:function(e){n.onSubmit(e)}},"登录"))))))}}]),e}();e.default=d},1250:function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}();r(1048);var o,a=r(442);var i=new((o=a)&&o.__esModule?o:{default:o}).default,p=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}return t(n,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(e,r){if(null==i.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=e&&"/reportServer/user/Reactlogin"!=e||""==i.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=e&&"/reportServer/user/Reactlogin"!=e)return window.location.href="#login",new Promise(function(n,e){});var t=n.getBaseUrl()+e,o={method:"POST",headers:{credentials:JSON.stringify(i.getStorage("userInfo")||"")},body:r};return fetch(t,o).then(function(n){return n.json()}).catch(function(n){return n.json()})}}]),n}();e.default=p},1254:function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,o=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),a=r(1250),i=(t=a)&&t.__esModule?t:{default:t};var p=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}return o(n,[{key:"login",value:function(n){return i.default.post("/reportServer/user/Reactlogin",JSON.stringify(n))}},{key:"checkLoginInfo",value:function(n){var e=n.UserCode,r=n.Pwd;return"string"!=typeof e||0===e.length?{status:!1,msg:"用户名不能为空！"}:"string"!=typeof r||0===r.length?{status:!1,msg:"密码不能为空！"}:{status:!0,msg:"验证通过"}}},{key:"encodePwd",value:function(n){return i.default.post("/reportServer/user/encodePwd",n)}},{key:"logout",value:function(){return i.default.post("/user/logout.do",null)}},{key:"getUserList",value:function(n){return i.default.post("/reportServer/formUser/getUserListReact",JSON.stringify(n))}},{key:"getUserListRole",value:function(n){return i.default.post("/reportServer/formUser/getUserListRole",JSON.stringify(n))}},{key:"getUserInfo",value:function(n){return i.default.post("/reportServer/formUser/getUserInfoByUserId",JSON.stringify({id:n}))}},{key:"saveUserInfo",value:function(n){return"null"==n._id?i.default.post("/reportServer/formUser/addUser",JSON.stringify(n)):i.default.post("/reportServer/formUser/updateUser",JSON.stringify(n))}},{key:"delUser",value:function(n){return i.default.post("/reportServer/formUser/deleteUser",n)}},{key:"getRoleList",value:function(){return i.default.post("/reportServer/rule/getRoleList",{})}},{key:"getRoleListByUserId",value:function(n){return i.default.post("reportServer/auth/getRoleListByUserId",JSON.stringify({userid:n}))}},{key:"UpdatePwd",value:function(n){return i.default.post("/reportServer/formUser/updatePwd",JSON.stringify(n))}}]),n}();e.default=p},1304:function(n,e,r){var t=r(1305);"string"==typeof t&&(t=[[n.i,t,""]]);var o={hmr:!0,transform:void 0};r(22)(t,o);t.locals&&(n.exports=t.locals)},1305:function(n,e,r){var t=r(1217);(n.exports=r(21)(!1)).push([n.i,".wrapper-page {\n  width: 420px;\n  margin: 7.5% auto; }\n\n.panel-pages .panel-body {\n  padding: 30px; }\n\n.panel-pages {\n  border-radius: 6px; }\n\n.panel-pages .panel-heading {\n  padding: 40px 20px;\n  border-radius: 6px 6px 0px 0px;\n  -moz-border-radius: 6px 6px 0px 0px;\n  -webkit-border-radius: 6px 6px 0px 0px;\n  position: relative; }\n\n.panel-pages .panel-heading h3 {\n  z-index: 999;\n  position: relative; }\n\n.panel {\n  border: none;\n  border-radius: 0px;\n  margin-bottom: 20px;\n  -webkit-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\n  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1); }\n\n.panel-heading {\n  border-radius: 0;\n  border: none !important;\n  padding: 10px 20px; }\n\n.panel-title {\n  font-size: 14px;\n  text-transform: uppercase;\n  font-weight: 600;\n  margin-bottom: 0;\n  margin-top: 0; }\n\n.panel-color .panel-title {\n  color: #ffffff; }\n\n.panel-primary > .panel-heading {\n  background-color: #1e88e5; }\n\n.panel-border {\n  border-radius: 3px; }\n\n.panel-border .panel-heading {\n  background-color: #ffffff;\n  border-top: 3px solid #ccc !important;\n  border-radius: 3px;\n  padding: 10px 20px 0px; }\n\n.panel-border .panel-body {\n  padding: 15px 20px 20px 20px; }\n\n.panel-border.panel-primary .panel-heading {\n  border-color: #1e88e5 !important;\n  color: #1e88e5 !important; }\n\n.bg-img {\n  background: url("+t(r(1306))+') center; }\n\n.bg-overlay {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(49, 126, 235, 0.4);\n  top: 0px;\n  left: 0px;\n  border-radius: 6px 6px 0px 0px;\n  -moz-border-radius: 6px 6px 0px 0px;\n  -webkit-border-radius: 6px 6px 0px 0px; }\n\n.text-center {\n  text-align: center; }\n\n.bg-primary {\n  color: #fff;\n  background-color: #337ab7; }\n\na.bg-primary:hover,\na.bg-primary:focus {\n  background-color: #286090; }\n\n.page-headerpage-header {\n  padding-bottom: 9px;\n  margin: 40px 0 20px;\n  border-bottom: 1px solid #eee; }\n\n/* Padding - Margin */\n.m-t-10 {\n  margin-top: 10px !important; }\n\n.m-t-20 {\n  margin-top: 20px; }\n\n.m-t-40 {\n  margin-top: 40px !important; }\n\n/* ---- Width-Sizes ---*/\n.w-lg {\n  min-width: 140px; }\n\n/* Extra */\n.font-light {\n  font-weight: 300; }\n\n.no-border {\n  border: none; }\n\n.bx-shadow {\n  -webkit-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\n  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1); }\n\n.mx-box {\n  max-height: 380px;\n  min-height: 380px; }\n\n/* 2.5 text color*/\n.text-white {\n  color: #ffffff; }\n\n.text-primary {\n  color: #1e88e5; }\n\n/*2.6 text input*/\n.form-control {\n  background-color: #fafafa;\n  color: rgba(0, 0, 0, 0.6);\n  font-size: 14px;\n  border-radius: 2px;\n  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n  border: 1px solid #eee;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n\n.form-control:focus {\n  border: 1px solid #e0e0e0;\n  background: #FFF;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n\ninput[type="search"] {\n  -webkit-appearance: none; }\n\n.form-group {\n  margin-bottom: 15px; }\n\n.checkbox {\n  position: relative;\n  display: block;\n  margin-top: 10px;\n  margin-bottom: 10px; }\n\n.radio label,\n.checkbox label {\n  min-height: 20px;\n  padding-left: 20px;\n  margin-bottom: 0;\n  font-weight: normal;\n  cursor: pointer; }\n\n.checkbox input[type="checkbox"],\n.checkbox-inline input[type="checkbox"] {\n  position: absolute;\n  margin-top: 4px \\9;\n  margin-left: -20px; }\n\n.radio + .radio,\n.checkbox + .checkbox {\n  margin-top: -5px; }\n\n.radio-inline,\n.checkbox-inline {\n  position: relative;\n  display: inline-block;\n  padding-left: 20px;\n  margin-bottom: 0;\n  font-weight: normal;\n  vertical-align: middle;\n  cursor: pointer; }\n\n.radio-inline + .radio-inline,\n.checkbox-inline + .checkbox-inline {\n  margin-top: 0;\n  margin-left: 10px; }\n\n.input-lg {\n  width: 100%;\n  height: 46px;\n  padding: 10px 16px;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.3333333;\n  border-radius: 6px; }\n\n.input-lg + .form-control-feedback,\n.input-group-lg + .form-control-feedback,\n.form-group-lg .form-control + .form-control-feedback {\n  width: 46px;\n  height: 46px;\n  line-height: 46px; }\n\n.input-sm + .form-control-feedback,\n.input-group-sm + .form-control-feedback,\n.form-group-sm .form-control + .form-control-feedback {\n  width: 30px;\n  height: 30px;\n  line-height: 30px; }\n\n.a_bg_color {\n  background-color: #B5B5B5; }\n\n.panel_border {\n  border: 1px solid #B5B5B5; }\n\nbody {\n  background: #ffffff; }\n\n.btn {\n  display: inline-block;\n  padding: 6px 12px;\n  margin-bottom: 0;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-image: none;\n  border: 1px solid transparent;\n  border-radius: 4px; }\n\n.btn-primary {\n  color: #fff;\n  background-color: #337ab7;\n  border-color: #2e6da4; }\n\n.btn-primary:focus,\n.btn-primary.focus {\n  color: #fff;\n  background-color: #286090;\n  border-color: #122b40; }\n\n.btn-primary:hover {\n  color: #fff;\n  background-color: #286090;\n  border-color: #204d74; }\n\n.btn-group > .btn-lg + .dropdown-toggle {\n  padding-right: 12px;\n  padding-left: 12px; }\n\n.btn-group-lg > .btn, .btn-lg {\n  padding: 10px 16px;\n  font-size: 18px;\n  line-height: 1.3333333;\n  border-radius: 6px; }\n\nh3 {\n  line-height: 30px;\n  font-size: 24px; }\n\nstrong {\n  font-weight: bold; }\n',""])},1306:function(n,e,r){n.exports=r.p+"resource/bg.jpg"}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1048);var u,r=n(442);var l=new((u=r)&&u.__esModule?u:{default:u}).default,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,n){if(null==l.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==l.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var a=e.getBaseUrl()+t,u={method:"POST",headers:{credentials:JSON.stringify(l.getStorage("userInfo")||"")},body:n};return fetch(a,u).then(function(e){return e.json()}).catch(function(e){return e.json()})}}]),e}();t.default=i},1253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1250),l=(a=r)&&a.__esModule?a:{default:a};var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"getCategoryList",value:function(){return l.default.post("reportServer/select/getSelectClass",{})}},{key:"getSelectClassTree",value:function(){return l.default.post("reportServer/select/getSelectClassTree",{})}},{key:"getQueryClassTree",value:function(e){var t={userId:e};return l.default.post("reportServer/auth/getMenuListNew",JSON.stringify(t))}},{key:"getMyReports",value:function(){return l.default.post("reportServer/web/getDirectory",null)}},{key:"MyReportUrl",value:function(){return l.default.post("reportServer/web/MyReportUrl",null)}},{key:"getReportNameList",value:function(e){var t="reportServer/select/getSelectName/"+e;return l.default.post(t,{})}},{key:"getQueryCriteria",value:function(e){var t="reportServer/query/getQueryParam/"+e;return l.default.post(t,{})}},{key:"execSelect",value:function(e,t,n){var a="reportServer/query/execQuery/"+t+"/"+e;return l.default.post(a,JSON.stringify(n))}},{key:"getDictionaryList",value:function(e,t){var n="reportServer/dict/getDictValueByID/"+e;return l.default.post(n,JSON.stringify(t))}},{key:"getAllQueryClass",value:function(){return l.default.post("reportServer/query/getAllQueryClass","")}},{key:"saveQueryClass",value:function(e){return l.default.post("reportServer/query/createQueryClassInfo",JSON.stringify(e))}},{key:"updateQueryClass",value:function(e){return l.default.post("reportServer/query/updateQueryClassInfo",JSON.stringify(e))}},{key:"deleteQueryClass",value:function(e){return l.default.post("reportServer/query/deleteQueryClassInfo",JSON.stringify(e))}},{key:"selectLinkValue",value:function(e,t){var n="reportServer/query/getQueryOutLink/"+e+"/"+t;return l.default.post(n,{})}},{key:"getQueryClassTreetwo",value:function(e){var t={userId:e};return l.default.post("reportServer/auth/getClassId",JSON.stringify(t))}},{key:"getQryNameByClassId",value:function(e){return l.default.post("reportServer/auth/getQryNameByClassId",JSON.stringify(e))}},{key:"getAllQueryNameList",value:function(e){return l.default.post("reportServer/query/getAllQueryNameList",JSON.stringify(e))}},{key:"getCubeListInAuth",value:function(e){var t={userId:e};return l.default.post("reportServer/auth/getCubeListInAuth",JSON.stringify(t))}},{key:"getDashboardListInAuth",value:function(e){var t={userId:e};return l.default.post("reportServer/auth/getDashboardListInAuth",JSON.stringify(t))}}]),e}();t.default=i},1364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(n(160)),u=f(n(11)),r=f(n(214)),l=f(n(1238)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(291),n(1054),n(1196),n(1239);var o=f(n(1)),c=n(444),s=f(n(1253));function f(e){return e&&e.__esModule?e:{default:e}}var d=new(f(n(442)).default),y=l.default.Sider,m=r.default.SubMenu,p=new s.default,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickMuen=function(e,t){null==e.shujuList&&(n.setState({loading:!0}),p.getQueryClassTreetwo(n.state.userId).then(function(t){n.setState({loading:!1}),e.shujuList=t.data,n.setState({categoryList:n.state.categoryList})}))},n.clickQryName=function(e){null==e.shuJuChildren&&(n.setState({loading:!0}),p.getQryNameByClassId(e).then(function(t){n.setState({loading:!1}),e.shuJuChildren=t.data,n.setState({categoryList:n.state.categoryList})}))},n.cubeClickMuen=function(e){null==e.cubeList&&(n.setState({loading:!0}),p.getCubeListInAuth(n.state.userId).then(function(t){n.setState({loading:!1}),e.cubeList=t.data,n.setState({categoryList:n.state.categoryList})}))},n.dashBoardClickMuen=function(e){null==e.dashboardList&&(n.setState({loading:!0}),p.getDashboardListInAuth(n.state.userId).then(function(t){n.setState({loading:!1}),e.dashboardList=t.data,n.setState({categoryList:n.state.categoryList})}))},n.clickMuenBao=function(e){null==e.baobiaoList&&p.getMyReports().then(function(t){e.baobiaoList=t,n.setState({categoryList2:t})},function(e){})},n.state={categoryList:[],loading:!1,userId:0,categoryList2:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){var e=this,t="";null!=d.getStorage("userInfo")&&""!=d.getStorage("userInfo")&&(t=d.getStorage("userInfo").id,this.setState({userId:t})),p.getQueryClassTree(t).then(function(t){e.setState({categoryList:t.data})},function(t){e.setState({categoryList:[]})})}},{key:"dashboardformSubmenusChild",value:function(e,t){return o.default.createElement(m,{key:e.func_name+e.func_id,onTitleClick:this.dashBoardClickMuen.bind(this,e),id:"divtitle",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name))},null==e.dashboardList?"":e.dashboardList.map(function(e){return o.default.createElement(r.default.Item,{key:e.dashboard_name+e.dashboard_id},o.default.createElement(c.Link,{to:"#"},o.default.createElement(u.default,{type:null==e.icon?"table":e.icon}),o.default.createElement("span",null,e.dashboard_name)))}))}},{key:"cubeformSubmenusChild",value:function(e,t){return o.default.createElement(m,{key:e.func_name+e.func_id,onTitleClick:this.cubeClickMuen.bind(this,e),id:"divtitle",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name))},null==e.cubeList?"":e.cubeList.map(function(e){return o.default.createElement(r.default.Item,{key:e.cube_name+e.cube_id},o.default.createElement(c.Link,{to:"/dashboard/DataAnalysis/"+e.qry_id+"/"+e.class_id+"/"+e.cube_name},o.default.createElement(u.default,{type:null==e.icon?"table":e.icon}),o.default.createElement("span",null,e.cube_name)))}))}},{key:"fourformSubmenusChild",value:function(e,t){var n=this;return o.default.createElement(m,{key:e.func_name+e.func_id,onTitleClick:this.clickMuen.bind(this,e,t),id:"divtitle",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name))},null==e.shujuList?"":e.shujuList.map(function(e){return o.default.createElement(m,{key:e.class_name+e.class_id+e.auth_type,onTitleClick:n.clickQryName.bind(n,e),title:o.default.createElement("span",null,o.default.createElement(u.default,{type:"folder"}),o.default.createElement("span",null,e.class_name))},null==e.shuJuChildren?"":e.shuJuChildren.map(function(t){return o.default.createElement(r.default.Item,{key:t.qry_name+t.qry_id},o.default.createElement(c.Link,{to:"/query/ExecQuery/"+t.qry_id+"/"+e.class_id+"/"+t.qry_name+"/null"},o.default.createElement(u.default,{type:"table"}),o.default.createElement("span",null,t.qry_name)))}))}))}},{key:"formSubmenusChild",value:function(e){var t=this,n=o.default.createElement("div",null),a=e.children;return void 0!==a&&a.length>0?(n=a.map(function(e,n){return t.formSubmenusChild(e)}),o.default.createElement(m,{key:e.func_name,id:"divtitle",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name))},n)):o.default.createElement(r.default.Item,{key:e.func_name},o.default.createElement(c.Link,{to:e.func_url,id:"divtitle"},o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name)))}},{key:"baoBiaoSubmenus",value:function(e,t){var n=this;return o.default.createElement(m,{key:e.func_name+e.func_id,onTitleClick:this.clickMuenBao.bind(this,e,t),id:"divtitle",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:e.func_icon}),o.default.createElement("span",null,e.func_name))},null==e.baobiaoList?"":e.baobiaoList.map(function(e){return n.baoBiaoSubmenusChild(e)}))}},{key:"baoBiaoSubmenusChild",value:function(e){var t=this,n=o.default.createElement("div",null),a=e.children;return void 0!==a&&a.length>0?(n=a.map(function(e,n){return t.baoBiaoSubmenusChild(e)}),o.default.createElement(m,{key:e.name,id:"",title:o.default.createElement("span",null,o.default.createElement(u.default,{type:"table"}),o.default.createElement("span",null,e.name))},n)):o.default.createElement(r.default.Item,{key:e.name},o.default.createElement(c.Link,{to:"/query/web/"+e.path,id:"divtitle"},o.default.createElement(u.default,{type:"table"}),o.default.createElement("span",null,e.name)))}},{key:"render",value:function(){var e=this,t=this.state.categoryList.map(function(t,n){return void 0!==t.children?"1001"==t.func_id?e.fourformSubmenusChild(t,n):"1006"==t.func_id?e.cubeformSubmenusChild(t,n):"1007"==t.func_id?e.dashboardformSubmenusChild(t,n):"1008"==t.func_id?e.baoBiaoSubmenus(t,n):void 0!==t.children&&t.children.length>0?e.formSubmenusChild(t):o.default.createElement(r.default.Item,{key:"sub"+n,id:"atitle"},o.default.createElement(c.Link,{to:t.func_url},o.default.createElement(u.default,{type:t.func_icon}),o.default.createElement("span",null,t.func_name))):o.default.createElement(r.default.Item,{key:"sub"+n,id:"atitle"},o.default.createElement(c.Link,{to:t.func_url},o.default.createElement(u.default,{type:t.func_icon}),o.default.createElement("span",null,t.func_name)))}),n=this.props.collapsed;return o.default.createElement("div",{className:"navbar-side"},o.default.createElement(y,{trigger:null,collapsible:!0,collapsed:n,theme:"light",width:"250px",collapsedWidth:"60",style:{overflow:"auto",height:"100vh",left:0}},o.default.createElement(a.default,{spinning:this.state.loading,delay:100},o.default.createElement(r.default,{theme:"light",defaultSelectedKeys:["1"],mode:"inline"},t,o.default.createElement(r.default.Item,null," ",o.default.createElement(c.Link,{to:"/cached"},o.default.createElement(u.default,{type:"table"})," 缓存"),"  ")))))}}]),t}();t.default=h}}]);
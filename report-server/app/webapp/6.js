(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{728:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=u(n(0)),i=n(310),o=(n(312),u(n(12)));n(757);var s=u(n(742)),l=u(n(311));function u(t){return t&&t.__esModule?t:{default:t}}var f=new s.default,c=i.List.Item,d=c.Brief,g=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.loadData=function(){f.getUserList().then(function(t){n.setState({data:t})}).catch(function(t){alert(t)})},n.state={qry_id:n.props.match.params.qry_id,class_id:n.props.match.params.class_id,inStrParam:n.props.match.params.inParam,data:[],height:document.documentElement.clientHeight,refreshing:!1,inParam:{},imgHeight:176,animating:!0,isLoading:!0,startIndex:1,perPage:10,searchResult:"",total:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Component),a(e,[{key:"onClassClick",value:function(t){window.location.href="#/UserBill"}},{key:"componentDidMount",value:function(){var t=this,e=this.state.height-o.default.findDOMNode(this.ptr).offsetTop;setTimeout(function(){return t.setState({height:e})},0);var n=[];n=this.state.inStrParam.split("&");for(var a=0;a<n.length;a++){var r=n[a].indexOf("="),i=n[a].substring(0,r),s=n[a].substring(r+1,n[a].length);this.state.inParam[i]=s}this.execQuery()}},{key:"execQuery",value:function(){var t=this;this.setState({animating:!0});var e={};e.startIndex=this.state.startIndex,e.perPage=this.state.perPage,l.default.post("/reportServer/query/getQueryParam/"+this.state.qry_id,null).then(function(n){if("1000"==n.resultCode){t.setState({outParam:n.data.out,isLoading:!0});var a=[{in:t.state.inParam},e];l.default.post("/reportServer/query/execQuery/"+t.state.class_id+"/"+t.state.qry_id,JSON.stringify(a)).then(function(e){"1000"==e.resultCode?(t.setState({data:e.data.list}),t.setState({animating:!1,isLoading:!1})):i.Toast.fail(e.message,1),t.setState({animating:!1,isLoading:!1})})}else i.Toast.fail(n.message,1);t.setState({animating:!1,isLoading:!1})})}},{key:"pageexecQuery",value:function(){var t=this;this.setState({animating:!0});var e={};e.startIndex=this.state.startIndex,e.perPage=this.state.perPage;var n=[{in:this.state.inParam},e];l.default.post("/reportServer/query/execQuery/"+this.state.class_id+"/"+this.state.qry_id,JSON.stringify(n)).then(function(e){if("1000"==e.resultCode){for(var n=t.state.data,a=0;a<e.data.list.length;a++)n.push(e.data.list[a]);t.setState({data:n,animating:!1,isLoading:!1,refreshing:!1,total:e.data.totalSize})}else i.Toast.fail(e.message,1);t.setState({animating:!1,isLoading:!1,refreshing:!1})})}},{key:"onRefreshs",value:function(){if(this.state.data.length!=this.state.total){var t=this.state.startIndex;this.setState({refreshing:!0,startIndex:t+1},function(){this.pageexecQuery()})}}},{key:"goback",value:function(){window.location.href="#/QueryInParam/"+this.state.class_id+"/"+this.state.qry_id}},{key:"render",value:function(){var t=this;return r.default.createElement("div",null,r.default.createElement(i.NavBar,{mode:"light",icon:r.default.createElement(i.Icon,{type:"left"}),onLeftClick:function(){return t.goback()},rightContent:[r.default.createElement(i.Icon,{key:"1",type:"ellipsis",onClick:this.loadData})]},"显示查询结果"),r.default.createElement(i.ActivityIndicator,{toast:!0,text:"正在加载",animating:this.state.animating}),r.default.createElement(i.PullToRefresh,{damping:60,ref:function(e){return t.ptr=e},style:{height:this.state.height,overflow:"auto"},indicator:this.state.down?{}:{deactivate:"上拉可以刷新"},direction:this.state.down?"down":"up",refreshing:this.state.refreshing,onRefresh:function(){return t.onRefreshs()}},r.default.createElement("list",{renderFooter:function(){return r.default.createElement("div",{style:{padding:30,textAlign:"center"}},t.state.isLoading?"Loading...":"Loaded")}},this.state.data.map(function(e){return r.default.createElement(c,{arrow:"down",thumb:n(745),multipleLine:!0,onClick:function(){return t.onClassClick(e.class_id)}},t.state.outParam.map(function(t){return r.default.createElement("div",null,r.default.createElement(d,null,r.default.createElement("div",{class:"flex-wrp-row itemnew"},r.default.createElement("div",{class:"item-left flex-wrp-row"},r.default.createElement("div",{class:"text"},t.out_name,":")),r.default.createElement("div",{class:"item-right flex-wrp-row"},r.default.createElement("div",{class:"text"},e[t.out_id.toUpperCase()])))))}))}))),0==this.state.data.length?r.default.createElement("div",null,0==this.state.total?r.default.createElement("div",{className:"tips"},"---暂无数据---"):""):"",this.state.data.length==this.state.total?r.default.createElement("div",null,this.state.total>0?r.default.createElement("div",{className:"tips"},"---没有数据了---"):""):"")}}]),e}();e.default=g},742:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=i(n(743));function i(t){return t&&t.__esModule?t:{default:t}}var o=new(i(n(744)).default),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Login=function(t){var e=t.Pwd;r.default.post("reportServer/user/encodePwd",e).then(function(e){return t.Pwd=e.encodePwd,new Promise(function(t,e){console.log("start new Promise..."),t(123)})}).then(function(e){console.log("login"+e);return r.default.post("reportServer/user/login",JSON.stringify(t))}).then(function(t){console.log("success!"+t.LOGINRESULT),o.setStorage("userInfo",JSON.stringify(t)),window.location.href="#/QueryClassList"})},this.getUserList=function(){return r.default.post("reportServer/DBConnection/ListAll",{name:"Hubot",login:"hubot"})}}return a(t,[{key:"checkLoginInfo",value:function(t){var e=t.UserCode,n=t.Pwd;return"string"!=typeof e||0===e.length?{status:!1,msg:"用户名不能为空！"}:"string"!=typeof n||0===n.length?{status:!1,msg:"密码不能为空！"}:{status:!0,msg:"验证通过"}}},{key:"logout",value:function(){return _mm.request({type:"post",url:"/user/logout.do"})}}]),t}();e.default=s},743:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();n(314);var o=(r=a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"get",value:function(){}}]),t}(),a.getBaseUrl=function(){return window.getServerUrl()},a.post=function(t,e){var n=o.getBaseUrl()+t,a={method:"POST",headers:{credentials:JSON.stringify({UserCode:"system",Pwd:"KfTaJa3vfLE="})},body:e};return fetch(n,a).then(function(t){return t.json()})},r);e.default=o},744:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"successTips",value:function(t){alert(t||"操作成功！")}},{key:"errorTips",value:function(t){alert(t||"好像哪里不对了~")}},{key:"setStorage",value:function(t,e){var n=void 0===e?"undefined":a(e);"object"===n?window.localStorage.setItem(t,JSON.stringify(e)):["number","string","boolean"].indexOf(n)>=0?window.localStorage.setItem(t,e):alert("该类型不能用于本地存储")}},{key:"getStorage",value:function(t){var e=window.localStorage.getItem(t);return e?JSON.parse(e):""}},{key:"removeStorage",value:function(t){window.localStorage.removeItem(t)}}]),t}();e.default=i},745:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAABYVJREFUaAXVWk1sG0UUnrd2EnuTpgRaocKBC0iRUBNQQwtISKSQn1tbCTiBQEJVkSo4QOHAhXAkijiB4MKBnwNQIdoTNEl/RCUQIhH5EVIOXDhAD1RqA83acZx9fG/Wu17ba3tn7QZnpPXOz3tvvjfz5u2bGZNqQ3rsR85urDtjimhUKR5kRffjPaCY9mjxxP8qRTdI8e94rynmy7177bmfHqdcq91TUgEHrwLgrfwxRXyMWI2zYttEFilymNQslDyv+jLnV5+gGyb8Pq2xAocW2C78nX8dI/wWHm+EfWmJ3yQzNN29P/P+4gg5JmJiK/Asc2pt1nlZsZrCc8Ckk9i0pK4pUlOD4/YnZ4m24/DFUmD4onOvW1DnMOIjcYS2TkMLVrc6vvyU/WczWU0VGLrgHGHmb2/bqNdDiNkgohMrE/bP9Uik3mrUODybe55ZXdlx8AIKZip9C4ZGGOvOgDC62+7njZh3qs1KWS8sj2e/iOovUgHPbGTkORPFtON1RHki9WSUOdWYkCxYz+bjgYedFsmyXkpZqXGMxq/NlAOQJU1L1ovg3WpGr9sxkIJJsFXTVyggrlJ7GwM3iQ/YlZWJ7KdLE5k5K2MfhRtcrO4kKKONe+2jQrsymf1MeIO2ZhlgEmyCMUxaoYD286auktXhQ5d5nwhdGqWbqR776UglRLFee8z/4h6e57uwUI+EwTTP84iHsUwZKCBfWAicKjfFzvUXNp15DQgsooQArVAiAny+6MyDvD92Lz4hMGqspXKggA4PDEzHl6ffrIZzW84lfyb0KPtK1AEPF/lQhYy4BWD0QhmPQXshLzDL/QHn21JsA2GrXVgHi6N0XcRruXiHzSZXdC5ipoe97pP+Inbqy94ncr0ZkKiyRfAChYF5K+9cevgH3i9l6aD94HVPe3QkjKynAEJiqW5HEiW2nbISIlPWR3tGPoSwhJm8zUjuumk8HxIVmYW//41S1itWkbeLxB+1bjaV3ch+ondvdl9adlIYNaPNSKWo6BIW6YNcdK+60owO2p1kwAW75W0D2y1+h+RhC5vG8AyadgfzWAfPpilfI3rMWBfaBxrR1LbxYJqZHjCZY4vo1eVJ+4NaYa3XIIh8hl0+G1eSHB7AhPiOuAxCl+7JfmlCb0KLkPmb2AGeFswDdPA7B6bA3XE7wgx82E3qvU2VbWZCGysTtCFyhy5wL17y1E2UznVxgU9ivb9Tl6imgQpYA2bJZT6dZ3VaqcaHB/gqvwvJU1q667zZDBgXzHD41GJCONLYpQnY8SVOdqDUGSojFvKO+zoDjikKwS4zsGbK2Dn0tGbJQWvnADJEAuxpOSXeWM85SYI5+OyvOG29nUn11Lgk+MxbPpw7M/YM/OnHftl/u8V899Y2v4YN+xt+Xdx3KZibg7dD/Pu9g5M3Ph6XOaBLp4dWx3pWg3KCjHdY7OjvhRE70bnVSfuEtx+QI+4EyXKLzyVgq2DB9jCZjBJmbwb0WX/iLeU/2MDXXFTAvGZwEDUjaBHjnIGZnKlALgVWEgEYBnDCWLWl9LZ9NC1NCVI/gNxd87jcF8iSfBRNIvAilab9rapnQqiSywWM5LWg007NAKPGWsIXKKBvRnC50Km4A1zAGL7FCRQQArkZwfQsBMQtZJgoOBjGesi2ICrESgsexnKVXsTlolL6NmaLf4HNHgjXm+YB+i/LUtrDuK76Gov4HlMZFfQwHauLHqm+talRQJh29fG6KCDn8JZFJyXfCUmwRN0NCLaKNRAGKzcicjOCU4t8uH5H8+i70e2MYIk0oTBIz5w695KvqQKijF7YHXrNWteEwrMgK39wMvsoDO7Ubf3YyYcUfUhf1d4mjCecjzUDYYZd+1eDsBKS37V/9qhWRMr/599t/gOALG49fQ0Z0wAAAABJRU5ErkJggg=="},757:function(t,e,n){var a=n(758);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0};n(58)(a,r);a.locals&&(t.exports=a.locals)},758:function(t,e,n){(t.exports=n(57)(!1)).push([t.i,'@charset "UTF-8";\n.flex-wrp-row {\n  display: flex;\n  flex-direction: row; }\n\n.itemnew {\n  position: relative; }\n\n.item-left {\n  flex: 1;\n  /* 重要 */\n  align-items: center; }\n\n.item-right {\n  position: relative;\n  align-items: center; }\n\n.tips {\n  font-size: 38rpx;\n  text-align: center;\n  padding: 20rpx; }\n',""])}}]);
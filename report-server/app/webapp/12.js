(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1193:function(e,t,r){var a={"./af":1055,"./af.js":1055,"./ar":1056,"./ar-dz":1057,"./ar-dz.js":1057,"./ar-kw":1058,"./ar-kw.js":1058,"./ar-ly":1059,"./ar-ly.js":1059,"./ar-ma":1060,"./ar-ma.js":1060,"./ar-sa":1061,"./ar-sa.js":1061,"./ar-tn":1062,"./ar-tn.js":1062,"./ar.js":1056,"./az":1063,"./az.js":1063,"./be":1064,"./be.js":1064,"./bg":1065,"./bg.js":1065,"./bm":1066,"./bm.js":1066,"./bn":1067,"./bn.js":1067,"./bo":1068,"./bo.js":1068,"./br":1069,"./br.js":1069,"./bs":1070,"./bs.js":1070,"./ca":1071,"./ca.js":1071,"./cs":1072,"./cs.js":1072,"./cv":1073,"./cv.js":1073,"./cy":1074,"./cy.js":1074,"./da":1075,"./da.js":1075,"./de":1076,"./de-at":1077,"./de-at.js":1077,"./de-ch":1078,"./de-ch.js":1078,"./de.js":1076,"./dv":1079,"./dv.js":1079,"./el":1080,"./el.js":1080,"./en-SG":1081,"./en-SG.js":1081,"./en-au":1082,"./en-au.js":1082,"./en-ca":1083,"./en-ca.js":1083,"./en-gb":1084,"./en-gb.js":1084,"./en-ie":1085,"./en-ie.js":1085,"./en-il":1086,"./en-il.js":1086,"./en-nz":1087,"./en-nz.js":1087,"./eo":1088,"./eo.js":1088,"./es":1089,"./es-do":1090,"./es-do.js":1090,"./es-us":1091,"./es-us.js":1091,"./es.js":1089,"./et":1092,"./et.js":1092,"./eu":1093,"./eu.js":1093,"./fa":1094,"./fa.js":1094,"./fi":1095,"./fi.js":1095,"./fo":1096,"./fo.js":1096,"./fr":1097,"./fr-ca":1098,"./fr-ca.js":1098,"./fr-ch":1099,"./fr-ch.js":1099,"./fr.js":1097,"./fy":1100,"./fy.js":1100,"./ga":1101,"./ga.js":1101,"./gd":1102,"./gd.js":1102,"./gl":1103,"./gl.js":1103,"./gom-latn":1104,"./gom-latn.js":1104,"./gu":1105,"./gu.js":1105,"./he":1106,"./he.js":1106,"./hi":1107,"./hi.js":1107,"./hr":1108,"./hr.js":1108,"./hu":1109,"./hu.js":1109,"./hy-am":1110,"./hy-am.js":1110,"./id":1111,"./id.js":1111,"./is":1112,"./is.js":1112,"./it":1113,"./it-ch":1114,"./it-ch.js":1114,"./it.js":1113,"./ja":1115,"./ja.js":1115,"./jv":1116,"./jv.js":1116,"./ka":1117,"./ka.js":1117,"./kk":1118,"./kk.js":1118,"./km":1119,"./km.js":1119,"./kn":1120,"./kn.js":1120,"./ko":1121,"./ko.js":1121,"./ku":1122,"./ku.js":1122,"./ky":1123,"./ky.js":1123,"./lb":1124,"./lb.js":1124,"./lo":1125,"./lo.js":1125,"./lt":1126,"./lt.js":1126,"./lv":1127,"./lv.js":1127,"./me":1128,"./me.js":1128,"./mi":1129,"./mi.js":1129,"./mk":1130,"./mk.js":1130,"./ml":1131,"./ml.js":1131,"./mn":1132,"./mn.js":1132,"./mr":1133,"./mr.js":1133,"./ms":1134,"./ms-my":1135,"./ms-my.js":1135,"./ms.js":1134,"./mt":1136,"./mt.js":1136,"./my":1137,"./my.js":1137,"./nb":1138,"./nb.js":1138,"./ne":1139,"./ne.js":1139,"./nl":1140,"./nl-be":1141,"./nl-be.js":1141,"./nl.js":1140,"./nn":1142,"./nn.js":1142,"./pa-in":1143,"./pa-in.js":1143,"./pl":1144,"./pl.js":1144,"./pt":1145,"./pt-br":1146,"./pt-br.js":1146,"./pt.js":1145,"./ro":1147,"./ro.js":1147,"./ru":1148,"./ru.js":1148,"./sd":1149,"./sd.js":1149,"./se":1150,"./se.js":1150,"./si":1151,"./si.js":1151,"./sk":1152,"./sk.js":1152,"./sl":1153,"./sl.js":1153,"./sq":1154,"./sq.js":1154,"./sr":1155,"./sr-cyrl":1156,"./sr-cyrl.js":1156,"./sr.js":1155,"./ss":1157,"./ss.js":1157,"./sv":1158,"./sv.js":1158,"./sw":1159,"./sw.js":1159,"./ta":1160,"./ta.js":1160,"./te":1161,"./te.js":1161,"./tet":1162,"./tet.js":1162,"./tg":1163,"./tg.js":1163,"./th":1164,"./th.js":1164,"./tl-ph":1165,"./tl-ph.js":1165,"./tlh":1166,"./tlh.js":1166,"./tr":1167,"./tr.js":1167,"./tzl":1168,"./tzl.js":1168,"./tzm":1169,"./tzm-latn":1170,"./tzm-latn.js":1170,"./tzm.js":1169,"./ug-cn":1171,"./ug-cn.js":1171,"./uk":1172,"./uk.js":1172,"./ur":1173,"./ur.js":1173,"./uz":1174,"./uz-latn":1175,"./uz-latn.js":1175,"./uz.js":1174,"./vi":1176,"./vi.js":1176,"./x-pseudo":1177,"./x-pseudo.js":1177,"./yo":1178,"./yo.js":1178,"./zh-cn":1051,"./zh-cn.js":1051,"./zh-hk":1179,"./zh-hk.js":1179,"./zh-tw":1180,"./zh-tw.js":1180};function n(e){var t=l(e);return r(t)}function l(e){var t=a[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(a)},n.resolve=l,e.exports=n,n.id=1193},1212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=f(r(1)),l=r(444),s=f(r(1291)),u=f(r(1292)),o=f(r(1293)),i=f(r(1294));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"render",value:function(){return n.default.createElement(l.Switch,null,n.default.createElement(l.Route,{path:"/user/userList",component:s.default}),n.default.createElement(l.Route,{path:"/user/userInfo/:userId",component:u.default}),n.default.createElement(l.Route,{path:"/user/UpdatePwd/:userId",component:o.default}),n.default.createElement(l.Route,{path:"/user/userView/:userId",component:i.default}),n.default.createElement(l.Redirect,{exact:!0,from:"/user",to:"/user/userList"}))}}]),t}();t.default=d},1250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1048);var n,l=r(442);var s=new((n=l)&&n.__esModule?n:{default:n}).default,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,r){if(null==s.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==s.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var a=e.getBaseUrl()+t,n={method:"POST",headers:{credentials:JSON.stringify(s.getStorage("userInfo")||"")},body:r};return fetch(a,n).then(function(e){return e.json()}).catch(function(e){return e.json()})}}]),e}();t.default=u},1254:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(1250),s=(a=l)&&a.__esModule?a:{default:a};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"login",value:function(e){return s.default.post("/reportServer/user/Reactlogin",JSON.stringify(e))}},{key:"checkLoginInfo",value:function(e){var t=e.UserCode,r=e.Pwd;return"string"!=typeof t||0===t.length?{status:!1,msg:"用户名不能为空！"}:"string"!=typeof r||0===r.length?{status:!1,msg:"密码不能为空！"}:{status:!0,msg:"验证通过"}}},{key:"encodePwd",value:function(e){return s.default.post("/reportServer/user/encodePwd",e)}},{key:"logout",value:function(){return s.default.post("/user/logout.do",null)}},{key:"getUserList",value:function(e){return s.default.post("/reportServer/formUser/getUserListReact",JSON.stringify(e))}},{key:"getUserListRole",value:function(e){return s.default.post("/reportServer/formUser/getUserListRole",JSON.stringify(e))}},{key:"getUserInfo",value:function(e){return s.default.post("/reportServer/formUser/getUserInfoByUserId",JSON.stringify({id:e}))}},{key:"saveUserInfo",value:function(e){return"null"==e._id?s.default.post("/reportServer/formUser/addUser",JSON.stringify(e)):s.default.post("/reportServer/formUser/updateUser",JSON.stringify(e))}},{key:"delUser",value:function(e){return s.default.post("/reportServer/formUser/deleteUser",e)}},{key:"getRoleList",value:function(){return s.default.post("/reportServer/rule/getRoleList",{})}},{key:"getRoleListByUserId",value:function(e){return s.default.post("reportServer/auth/getRoleListByUserId",JSON.stringify({userid:e}))}},{key:"UpdatePwd",value:function(e){return s.default.post("/reportServer/formUser/updatePwd",JSON.stringify(e))}}]),e}();t.default=u},1291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(r(1042)),n=h(r(1047)),l=h(r(120)),s=h(r(44)),u=h(r(66)),o=h(r(1049)),i=h(r(1043)),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1041),r(1046),r(445),r(157),r(446),r(1050),r(443);var d=h(r(1)),c=r(444),p=h(r(1254)),m=h(r(448));function h(e){return e&&e.__esModule?e:{default:e}}var y=new(h(r(442)).default),v=new p.default,b=i.default.Search,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={list:[],pageNum:1,perPage:10,listType:"list",searchKeyword:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),f(t,[{key:"componentDidMount",value:function(){this.loadUserList()}},{key:"loadUserList",value:function(){var e=this,t={};t.pageNum=this.state.pageNum,t.perPage=this.state.perPage,"search"===this.state.listType&&(t.keyword=this.state.searchKeyword),v.getUserList(t).then(function(t){e.setState(t.data)},function(t){e.setState({list:[]})})}},{key:"onPageNumChange",value:function(e){var t=this;this.setState({pageNum:e},function(){t.loadUserList()})}},{key:"onValueChange",value:function(e){var t=e.target.name,r=e.target.value.trim();this.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r))}},{key:"onSearch",value:function(e){var t=this,r=""===e?"list":"search";this.setState({listType:r,pageNum:1,searchKeyword:e},function(){t.loadUserList()})}},{key:"deleteUser",value:function(e){var t=this;confirm("确认删除吗？")&&v.delUser(e).then(function(e){alert("删除成功"),t.loadUserList()},function(e){alert("删除失败")})}},{key:"showCurRowMessage",value:function(e){alert("key:"+e.userId+" name:"+e.userName+" description:"+e.description)}},{key:"render",value:function(){var e=this;this.state.list.map(function(e,t){e.key=t});var t=y.getStorage("userInfo"),r=this.state.list,i=[{title:"ID",dataIndex:"userId",key:"userId"},{title:"姓名",dataIndex:"userName",key:"userName",render:function(e,t,r){return d.default.createElement(c.Link,{to:"/user/UserView/"+t.id},e)}},{title:"描述",dataIndex:"description",key:"description",maxWidth:"200px"},{title:"角色",dataIndex:"isAdminText",key:"isAdminText"},{title:"入职时间",dataIndex:"creationDate",key:"creationDate"},{title:"操作",dataIndex:"操作",render:function(r,a){return d.default.createElement("span",null,"1"!=a.userId?d.default.createElement(c.Link,{to:"/user/userInfo/"+a.id},"编辑"):"",d.default.createElement(o.default,{type:"vertical"}),"1"==a.userId||a.id==t.id?"":d.default.createElement("a",{onClick:function(){return e.deleteUser(""+a.id)},href:"javascript:;"},"删除"))}}];return d.default.createElement("div",{id:"page-wrapper"},d.default.createElement(a.default,{title:"用户列表"},d.default.createElement(l.default,null,d.default.createElement(u.default,{xs:24,sm:12},d.default.createElement(b,{style:{maxWidth:300,marginBottom:"10px"},placeholder:"请输入...",enterButton:"查询",onSearch:function(t){return e.onSearch(t)}})),d.default.createElement(u.default,{xs:24,sm:12},d.default.createElement(s.default,{href:"#/user/userInfo/null",style:{float:"right",marginRight:"30px"},type:"primary"},"新建用户"))),d.default.createElement(n.default,{dataSource:r,columns:i,pagination:!1}),d.default.createElement(m.default,{current:this.state.pageNum,total:this.state.total,onChange:function(t){return e.onPageNumChange(t)}})))}}]),t}();t.default=g},1292:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=b(r(1042)),n=b(r(44)),l=b(r(120)),s=b(r(66)),u=b(r(1043)),o=b(r(1197)),i=b(r(138)),f=b(r(1045)),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1041),r(157),r(445),r(446),r(443),r(1198),r(447),r(1044);var p=b(r(1)),m=b(r(1254)),h=(b(r(294)),b(r(1195))),y=b(r(5)),v=b(r(1199));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=new(b(r(442)).default),w=f.default.Item,E=i.default.Option,k=new m.default,_=(o.default.RangePicker,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={confirmDirty:!1,_id:r.props.match.params.userId,userName:"",isAdmin:"",regisType:"local",encryptPwd:"",startDate:"",endDate:"",description:"",userId:"",isw:!1,roleList:[],isAdminText:[]},r.handleSubmit=r.handleSubmit.bind(r),r.handleConfirmBlur=r.handleConfirmBlur.bind(r),r.compareToFirstPassword=r.compareToFirstPassword.bind(r),r.validateToNextPassword=r.validateToNextPassword.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default.Component),c(t,[{key:"componentDidMount",value:function(){var e=this;"1"==this.state._id?window.location.href="#/user/userView/"+this.state._id:(k.getRoleListByUserId(this.state._id).then(function(t){for(var r=[],a=t.roleList,n=t.userroleList,l=0;l<a.length;l++)r.push(p.default.createElement(E,{key:a[l].roleId},a[l].roleName));e.setState({roleList:r,isAdminText:n},function(){this.props.form.setFieldsValue({isAdminText:this.state.isAdminText})})}),null!=this.state._id&&""!=this.state._id&&"null"!=this.state._id&&k.getUserInfo(this.state._id).then(function(t){e.setState(t.data.userInfo),e.props.form.setFieldsValue({userName:t.data.userInfo.userName,encryptPwd:t.data.userInfo.encryptPwd,startDate:(0,y.default)(t.data.userInfo.startDate,"YYYY-MM-DD"),endDate:(0,y.default)(t.data.userInfo.endDate,"YYYY-MM-DD"),description:t.data.userInfo.description,userId:t.data.userInfo.userId,confirm:""})},function(t){e.setState({}),j.errorTips(t)}))}},{key:"onValueChange",value:function(e){var t,r=e.target.name,a=e.target.value.trim();"encryptPwd"==r?this.setState((g(t={},r,a),g(t,"isw",!0),t)):this.setState(g({},r,a));this.props.form.setFieldsValue(g({},r,a))}},{key:"onSelectChange",value:function(e,t){if("isAdminText"==e){var r=t.join(",");this.setState(g({},e,r))}else this.setState(g({},e,t));this.props.form.setFieldsValue(g({},e,t))}},{key:"onValueChangeDate",value:function(e,t,r){this.setState(g({},e,r)),this.props.form.setFieldsValue(g({},e,r))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,r){e||k.saveUserInfo(t.state).then(function(e){null!=t.state._id&&""!=t.state._id&&"null"!=t.state._id?alert("修改成功"):alert("保存成功"),window.location.href="#user/userList"},function(e){t.setState({}),j.errorTips(e)})})}},{key:"handleConfirmBlur",value:function(e){var t=e.target.value;this.setState({confirmDirty:this.state.confirmDirty||!!t})}},{key:"compareToFirstPassword",value:function(e,t,r){var a=this.props.form;t&&t!==a.getFieldValue("encryptPwd")?r("两次输入密码不一致!"):r()}},{key:"validateToNextPassword",value:function(e,t,r){var a=this.props.form;t&&this.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),r()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},c="0";return this.state.isw&&(c="12"),p.default.createElement("div",{id:"page-wrapper"},p.default.createElement(a.default,{title:"null"==this.state._id?"新建用户":"编辑用户"},p.default.createElement(f.default,{onSubmit:this.handleSubmit},p.default.createElement(l.default,null,p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"用户名"}),t("userName",{rules:[{required:!0,message:"请输入用户名!"}]})(p.default.createElement(u.default,{type:"text",name:"userName",onChange:function(t){return e.onValueChange(t)}})))),p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"用户编号"}),t("userId",{rules:[{required:!0,message:"请输入用户编号!",whitespace:!0}]})(p.default.createElement(u.default,{type:"text",name:"userId",onChange:function(t){return e.onValueChange(t)}}))))),p.default.createElement(l.default,null,p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"密码",hideRequiredMark:"true"}),t("encryptPwd",{rules:[{required:!0,message:"请输入密码!"},{validator:this.validateToNextPassword}]})(p.default.createElement(u.default,{type:"password",name:"encryptPwd",onChange:function(t){return e.onValueChange(t)}})))),p.default.createElement(s.default,{span:c},p.default.createElement(w,d({},r,{label:"确认密码"}),t("confirm",{rules:[{required:!1,message:"请再次输入密码!"},{validator:this.compareToFirstPassword}]})(p.default.createElement(u.default,{type:"password",onBlur:function(){return e.handleConfirmBlur}}))))),p.default.createElement(l.default,null,p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"用户归属"}),p.default.createElement(i.default,{name:"regisType",value:this.state.regisType.toString(),style:{width:120},onChange:function(t){return e.onSelectChange("regisType",t)}},p.default.createElement(E,{value:"erp"},"ERP用户"),p.default.createElement(E,{value:"local"},"本地用户")))),p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"用户角色"}),t("isAdminText",{rules:[{required:!0,message:"请选择角色!"}]})(p.default.createElement(i.default,{mode:"multiple",style:{width:"120px"},placeholder:"请选择",name:"isAdminText",onChange:function(t){return e.onSelectChange("isAdminText",t)}},this.state.roleList))))),p.default.createElement(l.default,null,p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"开始时间"}),t("startDate",{rules:[{required:!0,message:"请选择开始时间!"}]})(p.default.createElement(o.default,{name:"startDate",onChange:function(t,r){return e.onValueChangeDate("startDate",t,r)},locale:h.default,placeholder:"请选择开始时间"})))),p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"失效时间"}),t("endDate",{rules:[{required:!0,message:"请选择失效时间!"}]})(p.default.createElement(o.default,{name:"endDate",onChange:function(t,r){return e.onValueChangeDate("endDate",t,r)},locale:h.default,placeholder:"请选择失效时间"}))))),p.default.createElement(l.default,null,p.default.createElement(s.default,{xs:24,sm:12},p.default.createElement(w,d({},r,{label:"备注"}),t("description",{rules:[{required:!0,message:"请输入备注!"}]})(p.default.createElement(v.default,{type:"text",name:"description",onChange:function(t){return e.onValueChange(t)}})))),p.default.createElement(s.default,{xs:24,sm:12}," ")),p.default.createElement(w,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},p.default.createElement(n.default,{type:"primary",htmlType:"submit"},"保存"),p.default.createElement(n.default,{href:"#/user/userList",type:"primary",style:{marginLeft:"30px"}},"返回")))))}}]),t}());t.default=f.default.create()(_)},1293:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(r(1042)),n=p(r(44)),l=p(r(120)),s=p(r(66)),u=p(r(1043)),o=p(r(1045)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1041),r(157),r(445),r(446),r(443),r(1044);var d=p(r(1)),c=p(r(1254));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=o.default.Item,y=new c.default,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={confirmDirty:!1,_id:r.props.match.params.userId,encryptPwd:"",oldPwd:""},r.handleSubmit=r.handleSubmit.bind(r),r.handleConfirmBlur=r.handleConfirmBlur.bind(r),r.compareToFirstPassword=r.compareToFirstPassword.bind(r),r.validateToNextPassword=r.validateToNextPassword.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),f(t,[{key:"componentDidMount",value:function(){}},{key:"onValueChange",value:function(e){var t=e.target.name,r=e.target.value.trim();this.setState(m({},t,r)),this.props.form.setFieldsValue(m({},t,r))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,r){e||(r._id=t.state._id,y.UpdatePwd(r).then(function(e){"success"==e?(alert("修改成功!"),window.location.href="#/"):"faile"==e?alert("修改失败，原密码不正确！"):alert("修改失败，请重新登录进行修改！")},function(e){t.setState({}),localStorge.errorTips(e)}))})}},{key:"handleConfirmBlur",value:function(e){var t=e.target.value;this.setState({confirmDirty:this.state.confirmDirty||!!t})}},{key:"compareToFirstPassword",value:function(e,t,r){var a=this.props.form;t&&t!==a.getFieldValue("encryptPwd")?r("两次输入密码不一致!"):r()}},{key:"validateToNextPassword",value:function(e,t,r){var a=this.props.form;t&&this.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),r()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return d.default.createElement("div",{id:"page-wrapper"},d.default.createElement(a.default,{title:"修改密码"},d.default.createElement(o.default,{onSubmit:this.handleSubmit},d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(h,i({},r,{label:"请输入原密码"}),t("oldPwd",{rules:[{required:!0,message:"请输入原密码!"}]})(d.default.createElement(u.default,{type:"password",name:"oldPwd"}))))),d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(h,i({},r,{label:"新密码",hideRequiredMark:"true"}),t("encryptPwd",{rules:[{required:!0,message:"请输入新密码!"},{validator:this.validateToNextPassword}]})(d.default.createElement(u.default,{type:"password",name:"encryptPwd",onChange:function(t){return e.onValueChange(t)}}))))),d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(h,i({},r,{label:"确认新密码"}),t("confirm",{rules:[{required:!0,message:"请再次输入新密码!"},{validator:this.compareToFirstPassword}]})(d.default.createElement(u.default,{type:"password",onBlur:function(){return e.handleConfirmBlur}}))))),d.default.createElement(h,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},d.default.createElement(n.default,{type:"primary",htmlType:"submit"},"保存"),d.default.createElement(n.default,{href:"#/",type:"primary",style:{marginLeft:"30px"}},"返回")))))}}]),t}();t.default=o.default.create()(v)},1294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(r(1042)),n=m(r(44)),l=m(r(120)),s=m(r(66)),u=m(r(138)),o=m(r(1045)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(1041),r(157),r(445),r(446),r(447),r(1044);var d=m(r(1)),c=m(r(1254)),p=m(r(1199));function m(e){return e&&e.__esModule?e:{default:e}}var h=new(m(r(442)).default),y=o.default.Item,v=u.default.Option,b=new c.default,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={_id:r.props.match.params.userId,userName:"",isAdmin:"0",regisType:"local",encryptPwd:"",startDate:"",endDate:"",description:"",userId:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),f(t,[{key:"componentDidMount",value:function(){var e=this;b.getUserInfo(this.state._id).then(function(t){e.setState(t.data.userInfo)},function(t){e.setState({}),h.errorTips(t)})}},{key:"render",value:function(){this.props.form.getFieldDecorator;var e={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return d.default.createElement("div",{id:"page-wrapper"},d.default.createElement(a.default,{title:"查看用户"},d.default.createElement(o.default,{onSubmit:this.handleSubmit},d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"用户名"}),this.state.userName)),d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"用户编号"}),this.state.userId))),d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"用户归属"}),d.default.createElement(u.default,{name:"regisType",value:this.state.regisType.toString(),style:{width:120},disabled:!0},d.default.createElement(v,{value:"erp"},"ERP用户"),d.default.createElement(v,{value:"local"},"本地用户")))),d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"用户角色"}),d.default.createElement(u.default,{name:"isAdmin",value:this.state.isAdmin.toString(),style:{width:120},disabled:!0},d.default.createElement(v,{value:"0"},"普通员工"),d.default.createElement(v,{value:"1"},"管理员"))))),d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"开始时间"}),this.state.startDate)),d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"失效时间"}),this.state.endDate))),d.default.createElement(l.default,null,d.default.createElement(s.default,{xs:24,sm:12},d.default.createElement(y,i({},e,{label:"备注"}),d.default.createElement(p.default,{type:"text",name:"description",value:this.state.description,disabled:!0}))),d.default.createElement(s.default,{xs:24,sm:12}," ")),d.default.createElement(y,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},d.default.createElement(n.default,{href:"#/user/userList",type:"primary"},"返回")))))}}]),t}();t.default=o.default.create()(g)}}]);